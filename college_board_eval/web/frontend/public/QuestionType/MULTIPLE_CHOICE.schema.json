{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "question_type": "MULTIPLE_CHOICE",
  "type": "object",
  "properties": {
    "id": { "type": "string" },
    "question": {
      "type": "object",
      "properties": {
        "type": { "type": "string", "enum": ["MULTIPLE_CHOICE"] },
        "question_context": { "type": "string" },
        "question_text": { "type": "string" },
        "options": {
          "type": "object",
          "properties": {
            "A": { "type": "string" },
            "B": { "type": "string" },
            "C": { "type": "string" },
            "D": { "type": "string" }
          },
          "required": ["A", "B", "C", "D"],
          "additionalProperties": false
        }
      },
      "required": ["type", "question_text", "options"],
      "additionalProperties": false
    },
    "answer": {
      "type": "object",
      "properties": {
        "correct": { "type": "string", "enum": ["A", "B", "C", "D"] },
        "explanation": { "type": "string" }
      },
      "required": ["correct"],
      "additionalProperties": false
    },
    "metadata": {
      "type": "object",
      "properties": {
        "domain": { "type": "string" },
        "difficulty": { "type": "number", "minimum": 0, "maximum": 1 },
        "main_practice_skill": { "type": "string" },
        "learning_objective": { "type": "string" },
        "key_concepts": { "type": "string" },
        "source": {
          "type": "object",
          "properties": {
            "ap_test": { "type": "string" },
            "year": { "type": "integer" },
            "url": { "type": "string", "format": "uri" }
          },
          "required": ["ap_test", "year", "url"],
          "additionalProperties": false
        }
      },
      "required": [
        "domain",
        "difficulty",
        "main_practice_skill",
        "learning_objective",
        "key_concepts",
        "source"
      ],
      "additionalProperties": false
    }
  },
  "required": ["id", "question", "answer", "metadata"],
  "additionalProperties": false
}
